(this.webpackJsonpbj=this.webpackJsonpbj||[]).push([[0],{30:function(e,n,c){},37:function(e,n,c){"use strict";c.r(n);var t=c(12),a=c.n(t),s=c(20),i=c.n(s),l=(c(30),c(25)),r=c(24),o=c(0);function d(e){var n=e.handValue,c=e.enemyHandValue,t=e.cards,a=e.mirror,s=e.gameStatus,i=n>21?"hand-losing":c>21||n>c?"hand-winning":n<c?"hand-losing":"";return Object(o.jsxs)("div",{className:"hand "+(a?"hand-mirror":""),children:[Object(o.jsxs)("div",{className:"hand-value "+i,children:[n,"FINISHED"===s&&"hand-winning"===i&&Object(o.jsx)("span",{className:"result-icon",children:"\ud83c\udfc6"})]}),Object(o.jsx)("div",{className:"cards",children:t.map((function(e,n){return Object(o.jsxs)("div",{className:"card card-"+e.suit.symbol,children:[Object(o.jsxs)("div",{className:"card-face",children:[Object(o.jsxs)("div",{className:"card-face-top",children:[Object(o.jsx)("div",{children:e.rank.symbol}),Object(o.jsx)("div",{children:e.suit.symbol})]}),Object(o.jsxs)("div",{className:"card-face-bottom",children:[Object(o.jsx)("div",{children:e.rank.symbol}),Object(o.jsx)("div",{children:e.suit.symbol})]}),Object(o.jsx)("div",{className:"card-face-inner",children:new Array(e.rank.value).fill().map((function(n,c){return Object(o.jsx)("div",{children:e.suit.symbol},c)}))})]}),Object(o.jsx)("div",{className:"card-back",children:Object(o.jsx)("div",{className:"card-back-inner"})})]},n)}))})]})}function u(e){var n=e.wins,c=e.roundsToWin;return Object(o.jsx)("div",{className:"round-wins",children:new Array(c).fill().map((function(e,c){return Object(o.jsx)("div",{className:"round "+(n>c?"round-won":"")},c)}))})}for(var j=[],b=[{id:"HEART",symbol:"\u2665"},{id:"DIAMOND",symbol:"\u2666"},{id:"SPADE",symbol:"\u2660"},{id:"CLUB",symbol:"\u2663"}],m=[{symbol:"2",value:2},{symbol:"3",value:3},{symbol:"4",value:4},{symbol:"5",value:5},{symbol:"6",value:6},{symbol:"7",value:7},{symbol:"8",value:8},{symbol:"9",value:9},{symbol:"10",value:10},{symbol:"J",value:10},{symbol:"Q",value:10},{symbol:"K",value:10},{symbol:"A",value:1}],v=0;v<52;v++)j.push({suit:b[v%4],rank:m[Math.floor(v/4)]});var h=function(e){return e.reduce((function(e,n){return e+n.rank.value}),0)};function O(){var e,n,c,a,s=Object(t.useState)(),i=Object(l.a)(s,2),j=i[0],b=i[1],m=Object(t.useMemo)((function(){return(null===j||void 0===j?void 0:j.player1)&&h(j.player1.hand)}),[null===j||void 0===j?void 0:j.player1]),v=Object(t.useMemo)((function(){return(null===j||void 0===j?void 0:j.player2)&&h(j.player2.hand)}),[null===j||void 0===j?void 0:j.player2]),O=Object(t.useRef)();return Object(t.useEffect)((function(){var e=O.current=Object(r.a)(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).WS_HOST||"http://localhost:4000");e.on("connect",(function(n){var c=window.location.search.slice(1);c?e.emit("join_game",{gameId:c}):e.emit("create_game",{})})),e.on("join",(function(e){b(e),window.history.replaceState(null,null,"/?"+e.gameId)})),e.on("player_join",(function(e){b(e)})),e.on("terminated",(function(e){})),e.on("not_found",(function(n){window.history.replaceState(null,null,"/"),e.emit("create_game",{})})),e.on("update",(function(e){b(e)}))}),[]),j?Object(o.jsx)("div",{className:"app",children:Object(o.jsxs)("div",{className:"app-inner",children:[Object(o.jsx)("div",{className:"player-portrait",children:"ENEMY"}),Object(o.jsx)(u,{wins:(null===(e=j.player2)||void 0===e?void 0:e.score)||0,roundsToWin:j.roundsToWin}),Object(o.jsx)(d,{cards:(null===(n=j.player2)||void 0===n?void 0:n.hand)||[],handValue:v,enemyHandValue:m,mirror:!0,gameStatus:j.status}),Object(o.jsxs)("div",{className:"divider",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{style:{flex:1}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"card",children:Object(o.jsx)("div",{className:"card-back no-anim",children:Object(o.jsx)("div",{className:"card-back-inner"})})}),Object(o.jsx)("div",{children:j.deckSize-j.deckIndex})]})]}),Object(o.jsx)(d,{cards:(null===(c=j.player1)||void 0===c?void 0:c.hand)||[],handValue:m,enemyHandValue:v,gameStatus:j.status}),Object(o.jsx)(u,{wins:(null===(a=j.player1)||void 0===a?void 0:a.score)||0,roundsToWin:j.roundsToWin}),Object(o.jsx)("div",{className:"player-portrait",children:Object(o.jsxs)("div",{className:"actions",children:["PLAYER1_TURN"===j.status&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"action-button hit",onClick:function(){O.current.emit("hit")},children:"HIT"}),Object(o.jsx)("button",{className:"action-button stay",onClick:function(){O.current.emit("stay")},children:"STAY"})]}),"FINISHED"===j.status&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("button",{className:"action-button",onClick:function(){O.current.emit("next_round")},children:"NEXT ROUND"})}),"GAME_OVER"===j.status&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("button",{className:"action-button",onClick:function(){O.current.emit("create_game")},children:"NEW GAME"})})]})})]})}):null}var y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,38)).then((function(n){var c=n.getCLS,t=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;c(e),t(e),a(e),s(e),i(e)}))};document.body.style.background="center / cover no-repeat url(./bg.jpg)",i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root")),y()}},[[37,1,2]]]);
//# sourceMappingURL=main.2fde2edf.chunk.js.map